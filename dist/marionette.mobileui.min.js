/*! marionette.mobileui - v0.2.0
 *  Release on: 2014-10-15
 *  Copyright (c) 2014 St√©phane Bachelier
 *  Licensed MIT */
define(["marionette"],function(a){"use strict";var b={views:{},helpers:{}},c=a.LayoutView.extend({regions:{left:".panel--left",right:".panel--right",content:".panel--content"},panelOpenedClass:"panel--opened",panelActiveClass:"active",swipeablePanels:["left","right"],initialize:function(){this.addEventListeners()},addEventListeners:function(){var a=this.regionManager.getRegions(),b=_.bind(this.closePanel,this);for(var c in a)this.listenTo(a[c],"panel:close",b)},showLeftPanel:function(){this.showPanel("left")},showRightPanel:function(){this.showPanel("right")},showPanel:function(a){if(this.regions[a]){this.triggerMethod("before:show:panel",a),this.currentPanel&&this.currentPanel.$el.toggleClass(this.panelActiveClass),this.$el.toggleClass(this.panelOpenedClass);var b=this.regionManager.get(a);b.$el.toggleClass("active"),this.currentPanel=b;var c=_.bind(this.closePanel,this);this.content.$el.one("click",c),this.triggerMethod("show:panel",a)}},closePanel:function(){this.currentPanel&&(this.triggerMethod("before:close:panel"),this.$el.toggleClass(this.panelOpenedClass),this.currentPanel.$el.toggleClass(this.panelActiveClass),this.currentPanel=null,this.triggerMethod("close:panel"))}});c.triggerMethod=a.triggerMethod,b.views.Panels=c;var d=a.ItemView.extend({template:!1,className:"fullscreen--overlay",events:{click:"onClick"},onClick:function(){this.trigger("click"),this.destroy()}});b.views.Overlay=d;var e=function(a,b){var c=b&&b.method?b.method:"append",e=d.prototype.className;b&&b.className&&(e+=" "+b.className);var f=a[c]?c:"append",g=new d({className:e});return a[f](g.render().$el),g};return b.helpers.overlay=e,a.mobileui=b,b});