/*! marionette.mobileui - v0.1.2
 *  Release on: 2014-10-14
 *  Copyright (c) 2014 St√©phane Bachelier
 *  Licensed MIT */
define(["marionette"],function(a){"use strict";var b={},c=a.LayoutView.extend({regions:{left:".panel--left",right:".panel--right",content:".panel--content"},panelActiveClass:"active",swipeablePanels:["left","right"],initialize:function(){this.addEventListeners()},addEventListeners:function(){var a=this.regionManager.getRegions(),b=_.bind(this.closePanel,this);for(var c in a)this.listenTo(a[c],"panel:close",b)},showLeftPanel:function(){this.showPanel("left")},showRightPanel:function(){this.showPanel("right")},showPanel:function(a){if(this.regions[a]){this.triggerMethod("before:show:panel",a),this.currentPanel&&this.currentPanel.$el.toggleClass(this.panelActiveClass);var b=this.regionManager.get(a);b.$el.toggleClass("active"),this.currentPanel=b;var c=_.bind(this.closePanel,this);this.content.$el.one("click",c),this.triggerMethod("show:panel",a)}},closePanel:function(){this.currentPanel&&(this.triggerMethod("before:close:panel"),this.currentPanel.$el.toggleClass(this.panelActiveClass),this.currentPanel=null,this.triggerMethod("close:panel"))}});return c.triggerMethod=a.triggerMethod,b.Panels=c,a.mobileui=b,b});