/*! marionette.mobileui - v0.2.1
 *  Release on: 2014-10-17
 *  Copyright (c) 2014 St√©phane Bachelier
 *  Licensed MIT */
define(["marionette"],function(a){"use strict";var b={views:{},helpers:{}},c=a.LayoutView.extend({regions:{left:".panel--left",right:".panel--right",content:".panel--content"},panelOpenedClass:"panel--opened",panelActiveClass:"active",swipeablePanels:["left","right"],initialize:function(){this.addEventListeners()},addEventListeners:function(){var a=this.regionManager.getRegions(),b={"panel:close":_.bind(this.closePanel,this),show:_.bind(this.onRegionInjection,this)};for(var c in a)for(var d in b)this.listenTo(a[c],d,b[d])},showLeftPanel:function(){this.showPanel("left")},showRightPanel:function(){this.showPanel("right")},showPanel:function(a){if(this.regions[a]){this.triggerMethod("before:show:panel",a);var b=this.regionManager.get(a),c=this.currentPanel||this.currentPanel!==b;this.currentPanel&&c&&this.currentPanel.$el.removeClass(this.panelActiveClass),this.$el.addClass(this.panelOpenedClass),b.$el.addClass("active"),this.currentPanel=b;var d=_.bind(this.closePanel,this);this.content.$el.one("click",d),this.triggerMethod("show:panel",a)}},closePanel:function(){this.currentPanel&&(this.triggerMethod("before:close:panel"),this.$el.removeClass(this.panelOpenedClass),this.currentPanel.$el.removeClass(this.panelActiveClass),this.currentPanel=null,this.triggerMethod("close:panel"))},onRegionInjection:function(a){this.triggerMethod("region:show",a)}});c.triggerMethod=a.triggerMethod,b.views.Panels=c;var d=a.ItemView.extend({template:!1,className:"fullscreen--overlay",events:{click:"onClick"},onClick:function(){this.trigger("click"),this.destroy()}});b.views.Overlay=d;var e=function(a,b){var c=b&&b.method?b.method:"append",e=d.prototype.className;b&&b.className&&(e+=" "+b.className);var f=a[c]?c:"append",g=new d({className:e});return a[f](g.render().$el),g};return b.helpers.overlay=e,a.mobileui=b,b});